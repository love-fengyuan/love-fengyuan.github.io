<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    

    

    



    <meta charset="utf-8">
    
    
    
    <title>LVS | 永远在路上 生命不息 学习不止 | 请道上大佬，多多指教</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="lvs">
    <meta name="description" content="LVSLVS(linux virtual server)即linux虚拟服务器，是一个虚拟的服务器集群系统。 使用集群技术和Linux操作系统实现一个高性能,高可用的服务器,很好的可伸缩性(scalability),很好的可靠性(reliability),很好的可管理性(manageability). contos7: grep -i ipvs /boot/config-3.10.0-693.e1">
<meta name="keywords" content="lvs">
<meta property="og:type" content="article">
<meta property="og:title" content="LVS">
<meta property="og:url" content="http://www.baidu.com/2019/04/18/LVS/index.html">
<meta property="og:site_name" content="永远在路上 生命不息 学习不止">
<meta property="og:description" content="LVSLVS(linux virtual server)即linux虚拟服务器，是一个虚拟的服务器集群系统。 使用集群技术和Linux操作系统实现一个高性能,高可用的服务器,很好的可伸缩性(scalability),很好的可靠性(reliability),很好的可管理性(manageability). contos7: grep -i ipvs /boot/config-3.10.0-693.e1">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-05-05T07:30:06.599Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LVS">
<meta name="twitter:description" content="LVSLVS(linux virtual server)即linux虚拟服务器，是一个虚拟的服务器集群系统。 使用集群技术和Linux操作系统实现一个高性能,高可用的服务器,很好的可伸缩性(scalability),很好的可靠性(reliability),很好的可管理性(manageability). contos7: grep -i ipvs /boot/config-3.10.0-693.e1">
    
        <link rel="alternate" type="application/atom+xml" title="永远在路上 生命不息 学习不止" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.png">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpeg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">YuanFeng</h5>
          <a href="mailto:yfxxaq@163.com" title="yfxxaq@163.com" class="mail">yfxxaq@163.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/">
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives">
                <i class="icon icon-lg icon-archives"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags">
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories">
                <i class="icon icon-lg icon-th-list"></i>
                类别
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/love-fengyuan" target="_blank">
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/custom">
                <i class="icon icon-lg icon-link"></i>
                测试
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">LVS</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">LVS</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-04-18T15:22:43.000Z" itemprop="datePublished" class="page-time">
  2019-04-18
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/lvs/">lvs</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#LVS"><span class="post-toc-number">1.</span> <span class="post-toc-text">LVS</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#集群"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">集群</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Cluster概念"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text">Cluster概念</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Cluster分类"><span class="post-toc-number">1.1.2.</span> <span class="post-toc-text">Cluster分类</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#LVS介绍"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">LVS介绍</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#LVS介绍-1"><span class="post-toc-number">1.2.1.</span> <span class="post-toc-text">LVS介绍</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#LVS概念"><span class="post-toc-number">1.2.2.</span> <span class="post-toc-text">LVS概念</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#LVS集群的类型"><span class="post-toc-number">1.2.3.</span> <span class="post-toc-text">LVS集群的类型</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#lvs-nat模式"><span class="post-toc-number">1.2.4.</span> <span class="post-toc-text">lvs-nat模式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#lvs-fullnat模式"><span class="post-toc-number">1.2.5.</span> <span class="post-toc-text">lvs-fullnat模式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#LVS工作模式总结"><span class="post-toc-number">1.2.6.</span> <span class="post-toc-text">LVS工作模式总结</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ipvs-scheduler"><span class="post-toc-number">1.2.7.</span> <span class="post-toc-text">ipvs scheduler</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ipvsadm命令"><span class="post-toc-number">1.2.8.</span> <span class="post-toc-text">ipvsadm命令</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#参考"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">参考</span></a></li></ol></li></ol>
        </nav>
    </aside>
    
<article id="post-LVS" class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">LVS</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-04-18 15:22:43" datetime="2019-04-18T15:22:43.000Z" itemprop="datePublished">2019-04-18</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/lvs/">lvs</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none">
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="LVS"><a href="#LVS" class="headerlink" title="LVS"></a>LVS</h1><p>LVS(linux virtual server)即linux虚拟服务器，是一个虚拟的服务器集群系统。</p>
<p>使用集群技术和Linux操作系统实现一个高性能,高可用的服务器,很好的可伸缩性(scalability),很好的可靠性(reliability),很好的可管理性(manageability).</p>
<p>contos7:</p>
<p>grep -i ipvs /boot/config-3.10.0-693.e17.x86_64</p>
<p>grep -i ipvs -C 10 /boot/config-3.10.0-693.e17.x86_64</p>
<p>yum install ipvsadm</p>
<p>rpm -ql ipvsadm</p>
<p>curl命令</p>
<p>lvs服务器:<br>需要两块网卡</p>
<p>启用Ipforward：</p>
<pre><code>echo net.ipv4.ip_forward=1 &gt;&gt; /etc/sysctl.conf
</code></pre><p>sysctl -p</p>
<p>sysctl -a | grep ip_forward</p>
<p>iptables -vnl</p>
<p>client：<br>需要桥接</p>
<p>RS1：<br>设置网关</p>
<pre><code>yum install httpd

echo RS1 &gt; /var/www/html/index.html
</code></pre><p>RS2；<br>设置网关</p>
<pre><code>yum install httpd

echo RS2 &gt; /var/www/html/index.html
</code></pre><p>LVS：</p>
<p>定义ipvs规则:NAt模式</p>
<pre><code>yum install ipvsadm

ipvsadm -A -t 172.20.0.200:80 -s rr

ipvsadm -Ln

ipvsadm -a -t 172.20.0.200:80  -r 192.168.80.17 -m

ipvsadm -a -t 172.20.0.200:80  -r 192.168.80.27 -m

ipvsadm -Ln
</code></pre><p>并发4百万 apache 1万</p>
<h2 id="集群"><a href="#集群" class="headerlink" title="集群"></a>集群</h2><h3 id="Cluster概念"><a href="#Cluster概念" class="headerlink" title="Cluster概念"></a>Cluster概念</h3><ul>
<li><p>系统扩展方式：</p>
<pre><code>scale up: 向上扩展，增强
scale out: 向外扩展，增加设备，调度分配问题， cluster
</code></pre></li>
<li><p>Cluster: 集群，未解决某个特定问题将多台计算机组合起来形成的单个系统</p>
</li>
<li><p>Linux Cluster类型：<br>  LB：load blancing, 负载均衡<br>  HA：high availiablity, 高可用， spof(single point of failure)</p>
<pre><code>MTBF: Mean Time Between Failure 平均无故障时间
MTTR: Mean Time To REStoration (repair) 平均恢复前时间（故障时间）
A=MTBF/(MTBF+MTTR) (0,1): 99%,99.5%, 99.9%, 99.99%, 99.999%
</code></pre><p>  HPC: high-performance computing . 高性能 <a href="http://www.top500.org" target="_blank" rel="noopener">www.top500.org</a></p>
</li>
<li>分布式系统：<pre><code>分布式存储： 云盘
分布式计算： hadoop, spark
</code></pre></li>
</ul>
<h3 id="Cluster分类"><a href="#Cluster分类" class="headerlink" title="Cluster分类"></a>Cluster分类</h3><ul>
<li>LB Cluster的实现</li>
<li>硬件：<pre><code>F5 big-ip
citrix netscaler
A10 A10
</code></pre></li>
<li>软件:<pre><code>lvs: linux virtual server
nginx: 支持七层调度
haproxy: 支持七层调度
ats: apache trafficserver
perlbal: perl编写
pound
</code></pre></li>
<li>基于工作的协议层划分：</li>
<li>传输层（通用）：DPORT<br>  LVS：<br>  nginx：stream<br>  haproxy: mode tcp</li>
<li><p>应用层（专用）：针对特定协议，自定义的请求模型分类<br>  proxy server：</p>
<pre><code>http:nginx, httpdm haproxy(mode http),...
fastcgi: nginx, httpd, ...
mysql: mysql-proxy,...
</code></pre></li>
<li><p>会话保持：负载均衡</p>
<pre><code>（1）session sticky: 同一用户调度固定服务器
    source ip: lvs sh算法（对某一特定服务而言）
    cookie
（2）session replication: 每台服务器拥有全部session
        session multicast cluster
（3）session server: 专门的session服务器
            memcached， redis
</code></pre></li>
<li>HA集群实现方案<br>  keepalived: vrrp协议<br>  ais：应用接口规范<pre><code>heartbeat
cman + rgmanager(RHCS)
coresync_pacemaker
</code></pre></li>
</ul>
<h2 id="LVS介绍"><a href="#LVS介绍" class="headerlink" title="LVS介绍"></a>LVS介绍</h2><h3 id="LVS介绍-1"><a href="#LVS介绍-1" class="headerlink" title="LVS介绍"></a>LVS介绍</h3><ul>
<li>LVS: linux virtual server, 负载调度器，集成内核<br>  官网：<a href="http://www.linuxvirtualserver.org/" target="_blank" rel="noopener">http://www.linuxvirtualserver.org/</a><br>  VS：virtual server，负责调度<br>  RS：real server,负责真正提供服务<br>  L4：四层路由器或交换机</li>
<li>工作原理：vs根据请求报文的目标ip和目标协议及端口将其调度转发至某RS，根据调度算法来挑选RS</li>
<li>iptables/netfilter:<br>  iptables:用户空间的管理工具<br>  netfilter:内核空间上的框架<br>  流入：PREROUTING–&gt;INPUT<br>  流出：OUTPUT–&gt; POSTROUTING<br>  转发：PREROUTING–&gt;FORWARD–&gt;POSTROUTING<br>  DNAT：目标地址转换；PREROUTING</li>
</ul>
<h3 id="LVS概念"><a href="#LVS概念" class="headerlink" title="LVS概念"></a>LVS概念</h3><ul>
<li><p>lvs集群类型中的术语：<br>  VS：virtual server, director server(DS)</p>
<pre><code>dispatcher(调度器)，load balancer
</code></pre><p>  RS:real server(lvs), upstream server(nginx)</p>
<pre><code>backend server(haproxy)
</code></pre><p>  CIP:client ip<br>  VIP:virtual serve ip  VS外网的ip<br>  DIP:director ip  VS内网Ip<br>  RIP:real server ip</p>
<p>  访问流程：CIP<-->VIP==DIP<-->RIP</--></--></p>
</li>
</ul>
<h3 id="LVS集群的类型"><a href="#LVS集群的类型" class="headerlink" title="LVS集群的类型"></a>LVS集群的类型</h3><ul>
<li><p>lvs: ipvsadm/ipvs<br>  ipvsadm: 用户空间的命令行工具，规则管理器<br>  ipvs: 工作于内核空间netfilter的INPUT钩子上的框架</p>
</li>
<li><p>lvs集群的类型：<br>  lvs-nat: 修改请求报文的目标IP，多目标IP的DNAT<br>  lvs-dr: 操纵封装新的MAC地址<br>  lvs-tun: 在原请求IP报文之外新加一个IP首部<br>  lvs-fullnat: 修改请求报文的源和目标IP</p>
</li>
</ul>
<h3 id="lvs-nat模式"><a href="#lvs-nat模式" class="headerlink" title="lvs-nat模式"></a>lvs-nat模式</h3><ul>
<li>lvs-nat:<br>  本质是多目标IP的DNAT，通过将请求报文中的目标地址和目标端口修改为某挑出的RS的RIP和PORT实现转发<br>  (1)RIP和DIP应在同一个IP网络，且应使用私网地址，RS的网关要指向DIP<br>  (2)请求报文和响应报文都必须经由Director转发，Director易于成为系统瓶颈<br>  (3)支持端口映射，可修改请求报文的目标PORT<br>  (4)VS必须是linux系统，RS可以是任意OS系统</li>
</ul>
<h3 id="lvs-fullnat模式"><a href="#lvs-fullnat模式" class="headerlink" title="lvs-fullnat模式"></a>lvs-fullnat模式</h3><ul>
<li>lvs-fullnat:<br>  通过同时修改请求报文的源IP地址和目标IP地址进行转发<pre><code>CIP--&gt;DIP
VIP--&gt;RIP
</code></pre>  (1)VIP是公网地址，RIP和DIP是私网地址，且通常不在同一IP网络；因此。RIP的网关一般不会指向DIP<br>  (2)RS收到的请求报文源地址是DIP，因此，只需响应给DIP；但Director还要将其发往Client<br>  (3)请求和响应报文都经由Director<br>  (4)支持端口映射<br>  注意：此类型kernel默认不支持</li>
</ul>
<h3 id="LVS工作模式总结"><a href="#LVS工作模式总结" class="headerlink" title="LVS工作模式总结"></a>LVS工作模式总结</h3><table>
<thead>
<tr>
<th></th>
<th>VS/NAT</th>
<th>VS/TUN</th>
<th>VS/DR</th>
</tr>
</thead>
<tbody>
<tr>
<td>server</td>
<td>any</td>
<td>tunneling</td>
<td>non-arp device</td>
</tr>
<tr>
<td>server network</td>
<td>private</td>
<td>LAN/WAN</td>
<td>LAN</td>
</tr>
<tr>
<td>server number</td>
<td>low(10~20)</td>
<td>high(100)</td>
<td>high(100)</td>
</tr>
<tr>
<td>server gateway</td>
<td>load balancer</td>
<td>own router</td>
<td>own router</td>
</tr>
</tbody>
</table>
<ul>
<li><p>lvs-nat与lvs-fullnat:请求和响应报文都经由director<br>  lvs-nat:RIP的网关要指向DIP<br>  lvs-fullnat：RIP和DIP未必在同一IP网络，但要能通信</p>
</li>
<li><p>lvs-dr与lvs-tun:请求报文要经由director，但相应报文有RS直接发往client<br>  lvs-dr：通过封装新的MAC首部实现，通过MAC网络转发<br>  lvs-tun: 通过在院IP报文外封装新IP头实现转发，支持远距离通信</p>
</li>
</ul>
<h3 id="ipvs-scheduler"><a href="#ipvs-scheduler" class="headerlink" title="ipvs scheduler"></a>ipvs scheduler</h3><ul>
<li>ipvs scheduler:<br>  根据其调度时是否考虑各RS当前的负载状态<br>  两种：静态方法和动态方法</li>
<li><p>静态方法：仅根据算法本身进行调度</p>
<pre><code>1. RR: roundrobin,轮询
2. WRR: weighted RR,加权轮询
3. SH: source hashing,实现session sticky，源IP地址hash；将来自同一个IP地址的请求，始终发往第一次挑中的RS，从而实现会话绑定
4. DH: destination hashing, 目标地址哈希，将发往同一个目标地址的骑牛始终发至第一次挑中的RS，典型使用场景是正向代理缓存场景中的负载均衡；如：宽带运行商
</code></pre></li>
<li><p>动态方法：<br>  主要根据每个RS当前的负载状态及调度算法进行调度overhead=value较小的RS将被调度</p>
<ol>
<li>LC: least connections 适用于长连接应用<br> overhead=activeconns*256+inactiveconns</li>
<li>WLC: weighted LC,默认调度方法<br> overhead=(acticeconns*256+inactiveconns)/weight</li>
<li>SED: shortest expection delay,初始连接高权重优先<br> overhead=(activeconns+1)*256/weight</li>
<li>NQ: never queue, 第一轮均匀分配，后续sed</li>
<li>LBLC: locality-based LC，动态的DH算法，使用场景：根据负载状态实现正向代理</li>
<li>LBLCR: LBLC with replication, 带复制功能的LBLC，解决LBLC负载不均衡问题，从负载重的复制到负载轻的RS</li>
</ol>
</li>
</ul>
<h3 id="ipvsadm命令"><a href="#ipvsadm命令" class="headerlink" title="ipvsadm命令"></a>ipvsadm命令</h3><ul>
<li>ipvsadm 命令：</li>
<li><p>核心功能：</p>
<pre><code>集群服务管理：增，删，改
集群服务的RS管理：增，删，改
查看
</code></pre><p>  ipvsadm -A|E -t|u|f service-address [-s scheduler] [-p [timeout]] [-M netmask] [–pe persistence_engine] [-b sched-flags]<br>  ipvsadm -D -t|u|f service-address 删除<br>  ipvsadm -C 清空<br>  ipvsadm -R 重载<br>  ipvsadm -S [-n] 保存<br>  ipvsadm -a|e -t|u|f service-address -r server-address [options]<br>  ipvsadm -d -t|u|f service-address -r server-address<br>  ipvsadm -L|l [options]<br>  ipvsadm -Z [-t|U|f service-address]</p>
</li>
<li><p>管理集群上的RS：增，删，改</p>
</li>
<li>增、改：ipvsadm -a|e -t|u|f service-address -r server-address [-g|i|m]  [-w weight]</li>
<li>删：ipvsadm -d -t|u|f service-address -r server-address</li>
<li>server-addres:<br>  rip[:port] 如省略port，不作端口映射</li>
<li>选项：<br>  lvs类型:<pre><code>-g: gateway, dr类型，默认
-i: ipip，tun类型
-m: masquerade, nat类型
</code></pre>  -w weight: 权重</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://blog.sina.com.cn/s/blog_6786545e0102vjvq.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_6786545e0102vjvq.html</a></p>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2019-05-05T07:30:06.599Z" itemprop="dateUpdated">2019-05-05 07:30:06</time>
</span><br>


        
        生命不息，学习不止
        
    </div>
    <footer>
        <a href="http://www.baidu.com">
            <img src="/img/avatar.jpeg" alt="YuanFeng">
            YuanFeng
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/lvs/">lvs</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.baidu.com/2019/04/18/LVS/&title=《LVS》 — 永远在路上 生命不息 学习不止&pic=http://www.baidu.com/img/avatar.jpeg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.baidu.com/2019/04/18/LVS/&title=《LVS》 — 永远在路上 生命不息 学习不止&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.baidu.com/2019/04/18/LVS/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《LVS》 — 永远在路上 生命不息 学习不止&url=http://www.baidu.com/2019/04/18/LVS/&via=http://www.baidu.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.baidu.com/2019/04/18/LVS/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2019/05/06/python_design_pattern/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">python设计模式</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2019/04/18/django_celery/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">django集成celery</h4>
      </a>
    </div>
  
</nav>



    
















</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style="display:none">
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style="display:none">
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p>
            <span>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span>
            <span>YuanFeng &copy; 2019</span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.baidu.com/2019/04/18/LVS/&title=《LVS》 — 永远在路上 生命不息 学习不止&pic=http://www.baidu.com/img/avatar.jpeg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.baidu.com/2019/04/18/LVS/&title=《LVS》 — 永远在路上 生命不息 学习不止&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.baidu.com/2019/04/18/LVS/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《LVS》 — 永远在路上 生命不息 学习不止&url=http://www.baidu.com/2019/04/18/LVS/&via=http://www.baidu.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.baidu.com/2019/04/18/LVS/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAABxklEQVR42u3aO47DMAwFwNz/0llgqzS2H0lZToBRZQj+jFUQFKnXKx7v//F5/Tmqdx49u2zg4uKOue/T0eMm8+fvPPwlXFzcjdw8ePVm8uW4sOHi4n4Z9/ypJIk5D2S4uLi/yE1mkjfj4uL+CjdJQXJiso25fa+Gi4s74PYKpmuvb6/v4uLiLupKVBsh1WJH+eu4uLhbuNVNy6TRUl2CwzCHi4v7KDfZfuRpSp7clJusuLi4S7nVxmee1lQbrlFgxcXF3cjN26JJmSN553nwOnwWFxf3UW7+gUm6kwe1i0CGi4t7A7eajlSLGvn95W4wLi7uFm7+ybVpTRQEcXFxN3J7xc1eS3VSUsHFxd3DreJ6M+ehqnyMAxcX92buZNOSFFKrBzUu3oyLi7uF2ytb9I5T5MtxkR7h4uLezJ2XSvMmSpIAXSwTLi7uRm71wOX8yGY+cHFxn+JOWqqrWrOjzg8uLu5SbjWg5DMJItn2NIMgLi7umJsHnTl9Mo+Li7ufmwSa5IBFtaVa2Pzg4uJ+JXceqpImzcXv4eLifjE3L7VMtky4uLjPcnvhploS7R3paJZFcHFxB9xJwXTeMukVYnBxcW/j/gHHZtNqLSzTNgAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };



</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '小可爱，快回来吧！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
